<div id="app" v-cloak>

	  <div class="actions">
			<button :class='[{ active: isDisabled("register") }]' 
				 @click.prevent='setComponent("register")'>Register
			</button> 
			<button :class='[{ active: isDisabled("signin") }]' 
				 @click.prevent='setComponent("signin")'>Signin
			</button>
	  </div>

	  <transition name='form' mode='out-in'>
			<keep-alive>
				 <component :feedback='feedback' :is="currentComponent"
				 @register-form='handleForm' @signin-form='handleForm'></component>
			</keep-alive>
	  </transition>

 </div>

 <!-- Register Template -->
 <template id="registerTemplate">
	  <form @submit.prevent='onSubmit' ref='form' action="" class='register-form'>
			<h2>Register</h2>
			<div class="form-group" >
				 <label for="firstname">First Name</label>
				 <input required type="text" v-model.trim='user.firstname' id='firstname' placeholder="firstname">
			</div>
			<div class="form-group">
				 <label for="lastname">Last Name</label>
				 <input required type="text" v-model.trim='user.lastname' id='lastname' placeholder="lastname">
			</div>
			<div class="form-group">
				 <label for="email">Email</label>
				 <input required type="email" v-model.trim='user.email' id='email' placeholder="Email">
			</div>
			<div class="form-group">
				 <label for="password">Password</label>
				 <input required type="password" v-model='user.password' placeholder="password" id='password'>
			</div>
			<div class="form-group">
				 <label for="passwordcheck">Confirm Password</label>
				 <input required type="password" v-model='user.passwordChck' placeholder="Confirmpassword" id='passwordcheck'>
			</div>
			<input type="submit" :disabled='!isFormValid' value='Register'>
	  </form>
 </template>

 <!-- Signin Template -->
 <template id="signinTemplate">
	  <form ref='form' @submit.prevent='handleForm' action="" class='signin-form'>
			<h2>Signin</h2>
			<div class="form-group">
				 <label for="email">Email</label>
				 <input required v-model='user.email' type="email" id='email' placeholder="Email">
			</div>
			<div class="form-group">
				 <label for="password">Password</label>
				 <input required v-model='user.password' type="password" id='password' placeholder="password">
			</div>
			<input :disabled='!isFormValid' type="submit" value="Signin">
	  </form>
 </template>

 <!-- Feedback Template -->
 <template id="feedbackTemplate">
	  <div class="feedback">
			<header>
				 <h2>{{ title }}</h2>
			</header>
			<div v-if='feedback.type === "register"'>
				<p>Welcome <strong>{{ feedback.data | name }}</strong>.</p>
				<p> An email has just been sent to the address {{ feedback.data | email }} to complete your registration.</p>
			</div>
			<div v-else>
				 <p>You will be redirected in a few moments...</p>
			</div>
	  </div>
 </template>